{
    "contents" : "###############################\n# A map with playgrounds\n# Jan-Philipp Kolb\n# Tue Jun 30 09:36:27 2015\n#\n###############################\n\n\n#-----------------------------------------------------------#\n# Genarilities\n#-----------------------------------------------------------##\n\nauthor <- \"Jan-Philipp Kolb\"\nscriptname <- \"rOSM_L_OSMgeocoding.R\"\n\n#-----------------------------------------------------------#\n# Libraries\n#-----------------------------------------------------------##\n\nlibrary(XML)\nlibrary(geosmdata2)\nlibrary(SPARQL)\n\n#-----------------------------------------------------------#\n# define paths\n#-----------------------------------------------------------##\n\nxml.path <- \"J:/Work/Statistik/Kolb/Paper/UseOSMdata/data/XML\"\n\n#-----------------------------------------------------------#\n# Geocoding with nomatim\n#-----------------------------------------------------------##\n\ngeocode_osm(\"cafe Mannheim\",output=\"all\")\n\n\n\n#-----------------------------------------------------------#\n# Load data\n#-----------------------------------------------------------##\ndata(\"osm_df\")\n\nplace=\"Schifferstadt\"\n\nobject2=\"addr:street\"\n\nplace=\"Sinsheim\"\nget_osm_adresses <- function(place){\n  instance <- \"http://www.overpass-api.de/api/\"\n  instance <- \"http://overpass.osm.rambler.ru/cgi/\"\n  streets <- xmlParse(paste(instance,\"interpreter?data=area[name=\\\"\",place,\"\\\"];way(area)[highway][name];out;\",sep=\"\"))\n  info <- extract_info_op(streets,\"highway\")\n  Str_namen <- as.character(info$name)\n  j<-1\n  houses <- xmlParse(paste(instance,\"interpreter?data=area[name=\\\"\",place,\"\\\"];node[\\\"addr:street=\",\"Lauergasse\",\"\\\"];out;\",sep=\"\"))\n}\n\n#-----------------------------------------------------------#\n#\n#-----------------------------------------------------------##\n\nstreets2 <- xmlParse(paste(instance,\"interpreter?data=area[name=\\\"\",place,\"\\\"];way[\\\"addr:street\\\"];out;\",sep=\"\"))\n\n#-----------------------------------------------------------#\n#\n#-----------------------------------------------------------##\n\n# http://blog-en.openalfa.com/how-to-query-openstreetmap-using-the-overpass-api\nlink <- \"http://overpass-api.de/api/interpreter?data=\"\nquery <- paste(link,\"way[\\\"name\\\"=\\\"Gielgenstraße\\\"](50.7,7.1,50.8,7.25);out;\",sep=\"\")\nquery <- paste(link,\"way(50.745,7.17,50.75,7.18);out;\",sep=\"\")\ninfo <- xmlParse(query)\n\n#-----------------------------------------------------------#\n#\n#-----------------------------------------------------------##\n\n\n\nsaveXML(streets_sf,file=paste(place,\"_streets.xml\",sep=\"\"))\n\nsave(info,file=paste(place,\"_info_streets.RData\",sep=\"\"))\n\n\nstreets_sf <- xmlParse(\"http://www.overpass-api.de/api/interpreter?data=area[name=\\\"Schifferstadt\\\"];way(area)[highway][name];out;\")\nsetwd(xml.path)\n\nsaveXML(streets_sf,file=\"Schifferstadt_streets.xml\")\n\ninfo_streets <- extract_info_op(OSM.Data=streets_sf,value=\"highway\")\n\n\nStrassen <- info_streets$name\n\n# Langgasse\n\n#http://wiki.openstreetmap.org/wiki/Overpass_API/Language_Guide#All_kind_of_objects\n# http://overpass-api.de/api/interpreter?data=(node[\"amenity\"=\"fire_station\"](50.6,7.0,50.8,7.3);way[\"amenity\"=\"fire_station\"](50.6,7.0,50.8,7.3);rel[\"amenity\"=\"fire_station\"](50.6,7.0,50.8,7.3););(._;>;);out;\n\n\n#-----------------------------------------------------------#\n# Links\n#-----------------------------------------------------------##\n\n# hier gibt es eine convert Form für Overpass\n# http://overpass-api.de/query_form.html\n\n# to compact Overpass QL auswählen\n\n\n\n# http://overpass.osm.rambler.ru/cgi/interpreter?data=area[name=%22Schifferstadt%22];node[%22addr:street%22=%22Langgasse%22];out;\n\n# http://wiki.openstreetmap.org/wiki/DE:Overpass_API/Beispielsammlung\n\n# HowTo: Querying online Data\n# http://www.bioconductor.org/packages/release/bioc/vignettes/annotate/inst/doc/query.pdf\n\n# HowTo: OpenStreetMap-Daten in MySQL-Datenbank importieren\n# http://goblor.de/wp/2008/09/25/howto-openstreetmap-daten-in-mysql-datenbank-importieren/\n# http://goblor.de/wp/2009/10/16/openstreetmap-projekt-teil-1-openstreetmap-daten-in-mysql-datenbank-einlesen/\n\n\n# http://www.d-mueller.de/blog/open-streetmap-api-tutorial-umkreissuche/\n\n# the same for Python:\n# https://github.com/mvexel/overpass-api-python-wrapper\n\n#####\n# Nominatim\n\n# http://andrewwhitby.com/2014/12/18/nominatim-on-ec2/\n\n#####\n# Geocoding and confidentiality\n\n# http://www.ehib.org/projects/ehss01/geocoding%20resources/recommended_books.pdf\n\n# http://www.ehib.org/page.jsp?page_key=360#geocoding_FAQ_confidentiality\n",
    "created" : 1435900542335.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "636957761",
    "id" : "84AC729E",
    "lastKnownWriteTime" : 1435904878,
    "path" : "J:/Work/Statistik/Kolb/Paper/UseOSMdata/rcode/rOSM_L_OSMgeocoding.R",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 14,
    "source_on_save" : false,
    "type" : "r_source"
}