{
    "contents" : "#------------------------------------------#\n# Get a list of all available map features at OSM\n# Jan-Philipp Kolb\n# Fri Jun 26 10:09:15 2015\n#\n#------------------------------------------#\n\n#------------------------------------------#\n# libraries\n#------------------------------------------#\n\n\nlibrary(XML)\nlibrary(geosmdata2)\nlibrary(xlsx)\n\n#------------------------------------------#\n# set paths\n#------------------------------------------#\n\n\ndata.path <- \"C:/Users/kolbjp/Documents/GitHub/GeoData/geosmdata2/data\"\ndata.path2 <- \"J:/Work/Statistik/Kolb/Paper/UseOSMdata/data\"\n\n#------------------------------------------#\n# load data\n#------------------------------------------#\n\n\nsetwd(data.path2)\nosm_df2 <- read.xlsx(\"OSMmapfeatures.xlsx\",1)\n\nosm_df <- osm_df2[,1:3]\n\nosm_df <- osm_df[complete.cases(osm_df),]\n\nosm_df$Key <- as.character(osm_df$Key)\nosm_df$Value <- as.character(osm_df$Value)\nosm_df$Element <- as.character(osm_df$Element)\n\n\nosm_df$Value[osm_df$Value==\"bicycle \"] <- \"bicycle\"\n\n#------------------------------------------#\n# add a column on elements - Mon Jun 29 17:48:30 2015\n#------------------------------------------#\n\n\n\nosm_df$Element2 <- rep(NA,nrow(osm_df))\nosm_df$Element2[agrep(\"relation\",osm_df$Element)] <- \"relation\"\nosm_df$Element2[agrep(\"Area\",osm_df$Element)] <- \"area\"\nosm_df$Element2[agrep(\"Way\",osm_df$Element)] <- \"way\"\nosm_df$Element2[agrep(\"Node\",osm_df$Element)] <- \"node\"\n\n\nosm_df <- osm_df[-which(osm_df$Key==\"Key\"),]\n\n\n#------------------------------------------#\n# save data\n#------------------------------------------#\n\n\nsetwd(data.path)\nsave(osm_df,file=\"osm_df.RData\")\n\nload(\"osm_df.RData\")\n\n\n##########################################################\n##########################################################\nosm_df[is.na(osm_df$Key),]\nosm_df[is.na(osm_df$Value),]\n\nTab <- readHTMLTable(\"http://wiki.openstreetmap.org/wiki/Map_Features\")\n\n\nosmKey <- lapply(Tab,function(x)x$` Key`)\n\nosmValue <- lapply(Tab,function(x)x$` Value`)\n\n\nosm_df <- data.frame(Key=as.character(unlist(osmKey)),\n                     Value=as.character(unlist(osmValue)))\n\n\nosm_df <- osm_df[complete.cases(osm_df),]\n\nosm_df$Element <- NA\nosm_df$Element[osm_df$Key==\"aerialway\"] <- \"Way\"\nosm_df$Element[osm_df$Value==\"pylon\"] <- \"Node\"\n\nosm_df$Element[osm_df$Key==\"aeroway\"] <- \"Way\"\n\nosm_df$Element[osm_df$Key==\"amenity\"] <- \"Node\"\n\n#------------------------------------------#\n# Links\n#------------------------------------------#\n\n# http://maperitive.net/docs/Querying_Data.html\n",
    "created" : 1435592847631.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "209289960",
    "id" : "73CF8CAB",
    "lastKnownWriteTime" : 1435593895,
    "path" : "J:/Work/Statistik/Kolb/Paper/UseOSMdata/rcode/rOSM_k_OSMdfMapfeatures.R",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "type" : "r_source"
}