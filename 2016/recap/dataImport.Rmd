---
title: "Nutzung von GeoDaten in den Sozialwissenschaften - Daten Import"
author: "Jan-Philipp Kolb"
date: "07 April"
output: slidy_presentation
---

```{r,echo=F}
library(knitr)
Ex <- T
```


## Import von csv-Dateien

- csv-Dateien aus dem Internet direkt einlesen

```{r,eval=Ex}
link <- "https://raw.githubusercontent.com/Japhilko/
GeoData/master/data/TrustData.csv"
```


```{r,eval=Ex}
trust_data <- read.csv2(link)
```

- Für Deutsche Daten sollte `read_csv2` verwendet werden

## Sich die Daten anzeigen lassen

```{r,eval=Ex}
head(trust_data)
```


```{r,echo=F,eval=Ex}
kable(trust_data[1:6,1:4])
```

```{r,eval=Ex}
colnames(trust_data)
```


## Import Excel-files

```{r,warning=F}
library("readxl")
```


```{r,eval=F}
ab <- read_excel("dataset.xlsx",sheet=1)
```

- Blatt Index als zweites Argument nötig

## Weltkulturerbe Datensatz einlesen

```{r}
url <- "https://raw.githubusercontent.com/Japhilko/
GeoData/master/2015/data/whcSites.csv"

whc <- read.csv(url) 
```


## Übersicht zum Weltkulturerbe Datensatz

```{r,eval=Ex}
table(whc$category)
```

```{r,eval=Ex}
colnames(whc)
```


## Ein Balkendiagramm erzeugen

```{r,eval=Ex}
barplot(table(whc$category))
```


## Import .sav-Daten

```{r,echo=F,eval=Ex}
setwd("J:/Work/Statistik/Kolb/Workshops/2015/Spatial_MA/Folien/dataImport/data")
load("mz10_small.Rdata")
```

```{r,eval=F}
library(foreign)
mz10 <- read.spss("mz2010_cf.sav",to.data.frame=T)
```

## Der Befehl read.spss

```{r,eval=F}
?read.spss
```


## stata-Dateien lesen

- Datensatz über Studierende (2000) vom [Forschungsdatenzentrum](http://www.forschungsdatenzentrum.de/bestand/studenten/cf/2000/index.asp)
- Datensatz hat 206867 Einträge

```{r,message=F,warning=F,eval=F}
studis <- read.dta("studenten_cf_2000.dta")
```

- Blog post zum lesen und schreiben von stata Dateien auf [is.R](http://is-r.tumblr.com/post/37181850668/readingwriting-stata-dta-files-with-foreign)

## Datenexport und Quellen

```{r,eval=F}
x <- runif(1000)
save(x, file="WasAuchImmer.RData")
```


Quick R zum Datenimport

<http://www.statmethods.net/input/index.html>

Datenmanagement ein wenig wie bei SPSS

```{r,eval=F}
install.packages("Rz")
library(Rz)
```


