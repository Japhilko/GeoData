---
title: "Interactive maps"
author: "Jan-Philipp Kolb"
date: "Tue Oct 27 13:36:25 2015"
output:
  html_document:
    keep_md: true
---

```{r,echo=F}
internet=T
```



## Die Daten - Weltkulturerbe

```{r,cache=T}
url <- "https://raw.githubusercontent.com/Japhilko/
GeoData/master/2015/data/whcSites.csv"

whcSites <- read.csv(url) 
```


## Notwendige Pakete

[magrittr](https://cran.r-project.org/web/packages/magrittr/index.html) - fÃ¼r den Pipe Operator in R:

```{r}
library("magrittr")
```


[leaflet](https://rstudio.github.io/leaflet/) - um  interaktive Karten mit der JavaScript Bibliothek 'Leaflet' zu erzeugen

```{r}
library("leaflet")
```


## Eine interaktive Karte erstellen

```{r,eval=internet}
m <- leaflet() %>%
  addTiles() %>%  # Add default OpenStreetMap map tiles
  addMarkers(lng=whcSites$lon, 
             lat=whcSites$lat, 
             popup=whcSites$name_en)
m
```

## Die Karte zeigen

![pic](https://github.com/Japhilko/GeoData/tree/master/data/figure/WHCPopUps.PNG) 

## Farbe hinzu

```{r}
whcSites$color <- "red"
whcSites$color[whcSites$category=="Cultural"] <- "blue"
whcSites$color[whcSites$category=="Mixed"] <- "orange"
```

## Eine Karte mit Farbe erzeugen

```{r,eval=internet}
m1 <- leaflet() %>%
  addTiles() %>%  
  addCircles(lng=whcSites$lon, 
             lat=whcSites$lat, 
             popup=whcSites$name_en,
             color=whcSites$color)
```

## Die Karte zeigen

![pic](https://github.com/Japhilko/GeoData/tree/master/data/figure/WHCcircles.PNG) 



## Links und Quellen

- <http://www.r-bloggers.com/the-leaflet-package-for-online-mapping-in-r/>
- <https://rstudio.github.io/leaflet/>
