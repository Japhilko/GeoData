---
title: "Interactive maps"
author: "Jan-Philipp Kolb"
date: "Tue Oct 27 13:36:25 2015"
output: beamer_presentation
---

```{r,echo=F}
internet=F
```



## Get the Data - World Heritage Sites

```{r,cache=T}
url <- "https://raw.githubusercontent.com/Japhilko/
GeoData/master/2015/data/whcSites.csv"

whcSites <- read.csv(url) 
```


## Necessary Packages

[magrittr](https://cran.r-project.org/web/packages/magrittr/index.html) - A Forward-Pipe Operator for R:

```{r}
library("magrittr")
```


leaflet - Create Interactive Web Maps with the JavaScript 'Leaflet' Library

```{r}
library("leaflet")
```


## Make the interactive map

```{r,eval=internet}
m <- leaflet() %>%
  addTiles() %>%  # Add default OpenStreetMap map tiles
  addMarkers(lng=whcSites$lon, 
             lat=whcSites$lat, 
             popup=whcSites$name_en)
```

## Show the map

![pic](figure/WHCPopUps.PNG) 

## Add some color

```{r}
whcSites$color <- "red"
whcSites$color[whcSites$category=="Cultural"] <- "blue"
whcSites$color[whcSites$category=="Mixed"] <- "orange"
```

## Create a map with color

```{r,eval=internet}
m1 <- leaflet() %>%
  addTiles() %>%  
  addCircles(lng=whcSites$lon, 
             lat=whcSites$lat, 
             popup=whcSites$name_en,
             color=whcSites$color)
```

## See the map

![pic](figure/WHCcircles.PNG) 



## Links and Resources

- <http://www.r-bloggers.com/the-leaflet-package-for-online-mapping-in-r/>
- <https://rstudio.github.io/leaflet/>
