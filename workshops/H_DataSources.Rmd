---
title: "Data sources"
author: "Jan-Philipp Kolb"
date: "Fri Sep 04 14:35:37 2015"
output: slidy_presentation
---


```{r,message=F,echo=F}
# setwd("C:/Users/Kolb/Documents/GitHub/RVisualisation/slides")
ca <- T
library(knitr)
library(DT)
```


## Package `datasets`

```{r,cache=ca,warning=F}
library(datasets)
data(quakes)
```

```{r,cache=T,echo=F}
kable(head(quakes))
```

## World Bank Data

[`WDI`](https://cran.r-project.org/web/packages/WDI/index.html) - World Development Indicators (World Bank)
- [Explanation for package](https://github.com/vincentarelbundock/WDI)

```{r,message=F}
library(WDI)
```

```{r,eval=F}
WDIsearch('gdp')[1:10,]
```

```{r,echo=F}
kable(WDIsearch('gdp')[1:10,])
```


## Download and use WDI data

```{r,cache=T}
dat <-  WDI(indicator='NY.GDP.PCAP.KD', country=c('MX','CA','US'), start=1960, end=2012)
head(dat)
```

```{r,echo=F}
kable(dat)
```

## First plot of downloaded WDI data

```{r,echo=F,cache=T}
library(ggplot2)
ggplot(dat, aes(year, NY.GDP.PCAP.KD, color=country)) + geom_line() + 
    xlab('Year') + ylab('GDP per capita')
```



## OpenStreetMap

> OpenStreetMap (OSM) is a collaborative project to create a free editable map of the world.

[Wikipedia - OpenStreetMap](https://en.wikipedia.org/wiki/OpenStreetMap)

## Data from Open Street Map

```{r,message=F,cache=ca,warning=F}
library(osmar)
api <- osmsource_api()
library(ggmap)
```

## Download OSM data 

```{r,cache=ca,warning=F}
cityC <- geocode("Berlin",source="google")
bb <- center_bbox(cityC$lon,cityC$lat,1000, 1000)
uaBerlin <- get_osm(bb, source = api)
```

## TwittR

```{r,eval=F,cache=ca,warning=F}
library(twitteR)
library(streamR)
```


<http://www.r-bloggers.com/mapping-the-world-with-tweets-including-a-gif-without-cats-and-a-shiny-app/>

## The worldHires data

```{r,cache=ca,warning=F}
library(mapdata)
data(worldHiresMapEnv)
map('worldHires', col=1:10)
```


## Historic data

[Historic geocoder](http://www.azavea.com/blogs/newsletter/v2i3/azavea-research-historic-geocoder/)

- [package HistData](http://www.inside-r.org/packages/cran/HistData)

```{r,cache=ca,warning=F}
library(HistData)
data(Arbuthnot)
```

## Environmental data

- [National climatic data center](http://www.ncdc.noaa.gov/ibtracs/index.php?name=ibtracs-data)

## Data for the US

```{r,eval=F,cache=ca,warning=F}
library(UScensus2000)
```

## GDELT data

- [GDELT](http://www.gdeltproject.org/)
- [Kalev Leetaru](http://www.kalevleetaru.com/)
- [Example on usage of GDELT data](http://quantifyingmemory.blogspot.de/2013/04/mapping-gdelt-data-in-r-and-some.html)

```{r,eval=F,cache=ca,warning=F}
library(GDELTtools)
test.filter <- list(ActionGeo_ADM1Code=c("NI", "US"), ActionGeo_CountryCode="US")
test.results <- GetGDELT(start.date="1979-01-01", end.date="1979-12-31",
                         filter=test.filter)
```



## [The US airports and flight routes](http://www.sasanalysis.com/2013/06/the-us-airports-with-most-flight-routes.html)

- More data [here](http://openflights.org/data.html)

```{r,eval=F}
link1 <- "http://openflights.svn.sourceforge.net/viewvc/openflights/
openflights/data/airports.dat"
airport <- read.csv(link1, header = F)

link2 <- "http://openflights.svn.sourceforge.net/viewvc/openflights/
openflights/data/routes.dat"
route <- read.csv(link2, header = F)
```

## Data on harbours

- [Natural earth data](http://www.naturalearthdata.com/downloads/10m-cultural-vectors/)

- [Make maps with that data](http://www.r-bloggers.com/minimalist-maps/)

## Other data sources

- [Census results - Germany](https://ergebnisse.zensus2011.de/)
- [Census results - Britain](http://www.r-bloggers.com/2011-census-open-atlas-project/) and [boundaries](http://www.ons.gov.uk/ons/guide-method/census/2011/census-data/2011-census-prospectus/new-developments-for-2011-census-results/2011-census-geography/2011-census-geography-prospectus/index.html)
- [Data on airports](http://openflights.org/data.html) and an [example](http://www.milanor.net/blog/?p=594) on the usage in R


## [ADFC/opengeodb](http://www.fa-technik.adfc.de/code/opengeodb/)

Bicycle Coding

```{r}
link <- "http://www.fa-technik.adfc.de/code/opengeodb/DE9.tab"
info <- read.csv(link,sep="\t",header=F)
```


## 





## Further resources

- [OpenGov](http://ropengov.github.io/projects/)

- [metro extracts - City-sized portions of OpenStreetMap](https://mapzen.com/data/metro-extracts/)

- [A list of potential data sources](http://wiki.openstreetmap.org/wiki/Potential_Datasources)

- [ICEDS European Data Server](http://geocommons.com/overlays/96341)

- [Datasources Germany](http://wiki.openstreetmap.org/wiki/DE:Potential_Datasources)

- [openaprs](http://www.openaprs.net/)

- [SALB](http://wiki.openstreetmap.org/wiki/SALB)

- [OpenCellID](http://opencellid.org/)
