---
title: "Combine polygons with data"
author: "Jan-Philipp Kolb"
date: "25. April 2015"
output: ioslides_presentation
---

```{r,echo=F}
library(knitr)
```


## Load polygons

- Examples are also on this [blog post](http://wiekvoet.blogspot.de/2015/04/unemployment-of-europe-in-2014-by-nuts.html)
- We have to load necessary libraries:

```{r,message=F}
library(maptools)
library(xml2)
```

## How to match data with `wrld_simpl`

```{r}
data(wrld_simpl)
```

```{r,echo=F}
kable(wrld_simpl@data[1:4,1:4])
```


## ISO country codes

> ISO 3166-1 is part of the ISO 3166 standard published by the International Organization for Standardization (ISO), and defines codes for the names of countries, dependent territories, and special areas of geographical interest. 

[ISO country codes](https://en.wikipedia.org/wiki/ISO_3166-1)

## Import ISO country codes

```{r,eval=F}
library(XML)
link <- "http://www.countrycallingcodes.com/iso-country-codes/europe-codes.php"

tables <- readHTMLTable(link)
ISO2 <- as.character(tables[[2]][,2])
ISO2 <- ISO2[-(53:56)]
ISO2 <- ISO2[-(1:2)]
```


## Get map data only for Europe

```{r}
ISO2 <- ISO2[-which(ISO2=="RU")]
ind <- match(ISO2,wrld_simpl$ISO2)
Europe <- wrld_simpl[ind,]
```



## GUI for spatial data

<http://www.r-bloggers.com/open-street-maps/>

```{r,eval=F}
library(DeducerSpatial)
```

